(()=>{var e={};e.id=298,e.ids=[298],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11389:(e,s,r)=>{"use strict";r.d(s,{y:()=>n});var t=r(6475);let n=(0,t.createServerReference)("7f7e77109133836a8d79ef8770cb7549679629175d",t.callServer,void 0,t.findSourceMapURL,"invalidateCacheAction")},14651:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>a.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>l});var t=r(65239),n=r(48088),i=r(88170),a=r.n(i),o=r(30893),d={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>o[e]);r.d(s,d);let l={children:["",{children:["account",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,25417)),"/Users/Lizzi/Documents/GitHub/ArchImpacts/app/account/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,58014)),"/Users/Lizzi/Documents/GitHub/ArchImpacts/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["/Users/Lizzi/Documents/GitHub/ArchImpacts/app/account/page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},m=new t.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/account/page",pathname:"/account",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},14888:(e,s,r)=>{"use strict";r.d(s,{Dv:()=>o,jI:()=>a});var t=r(46010);let n={FREE:["resources","nudges","dashboard_analytics"],PLUS:["resources","nudges","contacts","interactions","sms_nudges","rag_search","dashboard_analytics","upcoming_list"],PREMIUM:["resources","nudges","contacts","interactions","sms_nudges","rag_search","dashboard_analytics","upcoming_list","campaigns_admin"]};async function i(e){let s=await t.z.user.findUnique({where:{id:e}});return s?.plan||"FREE"}async function a(e,s){return n[await i(e)].includes(s)}function o(e){return n[e]}},16698:e=>{"use strict";e.exports=require("node:async_hooks")},16803:(e,s,r)=>{"use strict";r.r(s),r.d(s,{"7f7e77109133836a8d79ef8770cb7549679629175d":()=>t.y});var t=r(38301)},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},25417:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>d,runtime:()=>o});var t=r(37413),n=r(46010),i=r(41098),a=r(14888);let o="nodejs";async function d(){let e=await (0,i.J)(),s=await n.z.user.findUnique({where:{id:e.id}}),r=s?.plan||"FREE";return(0,t.jsxs)("div",{className:"container py-8",children:[(0,t.jsx)("h1",{className:"text-2xl font-semibold mb-2",children:"Your Plan"}),(0,t.jsxs)("p",{className:"text-sm text-gray-500 mb-6",children:["Current: ",(0,t.jsx)("span",{className:"font-medium",children:r})]}),(0,t.jsx)("div",{className:"grid gap-4 sm:grid-cols-3",children:["FREE","PLUS","PREMIUM"].map(e=>(0,t.jsxs)("form",{action:"/api/account/plan",method:"POST",className:"card p-4",children:[(0,t.jsx)("div",{className:"font-semibold",children:e}),(0,t.jsx)("ul",{className:"text-xs text-gray-500 mt-2 list-disc list-inside",children:(0,a.Dv)(e).map(e=>(0,t.jsx)("li",{children:e},e))}),(0,t.jsx)("input",{type:"hidden",name:"plan",value:e}),(0,t.jsx)("button",{className:`mt-3 btn ${e===r?"btn-primary":""}`,type:"submit",children:e===r?"Selected (dev)":"Select (dev)"})]},e))})]})}},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},37800:(e,s,r)=>{Promise.resolve().then(r.t.bind(r,86346,23)),Promise.resolve().then(r.t.bind(r,27924,23)),Promise.resolve().then(r.t.bind(r,35656,23)),Promise.resolve().then(r.t.bind(r,40099,23)),Promise.resolve().then(r.t.bind(r,38243,23)),Promise.resolve().then(r.t.bind(r,28827,23)),Promise.resolve().then(r.t.bind(r,62763,23)),Promise.resolve().then(r.t.bind(r,97173,23))},41098:(e,s,r)=>{"use strict";r.d(s,{J:()=>a,Z:()=>o});var t=r(59054),n=r(54119),i=r(46010);async function a(){let{userId:e}=(0,t.j)();if(!e)throw new Response("Unauthorized",{status:401});let s=await i.z.user.findUnique({where:{id:e}});if(!s){let r=await (0,n.N)(),t=r?.primaryEmailAddress?.emailAddress||"unknown@example.com";s=await i.z.user.create({data:{id:e,email:t}}),await i.z.profile.create({data:{userId:e}})}return{id:s.id,email:s.email}}async function o(){let{userId:e}=(0,t.j)();if(!e)throw new Response("Unauthorized",{status:401});let s=await i.z.user.findUnique({where:{id:e}});if(!s||"ADMIN"!==s.role)throw new Response("Forbidden",{status:403});return{id:s.id,email:s.email}}},46010:(e,s,r)=>{"use strict";r.d(s,{z:()=>t});let t=new(require("@prisma/client")).PrismaClient},55511:e=>{"use strict";e.exports=require("crypto")},58014:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>d});var t=r(37413);r(82704);var n=r(65813),i=r(62278),a=r(4536),o=r.n(a);function d({children:e}){return(0,t.jsx)("html",{lang:"en",children:(0,t.jsx)("body",{children:(0,t.jsxs)(n.lJ,{children:[(0,t.jsx)("header",{className:"header",children:(0,t.jsxs)("div",{className:"container py-3 flex items-center justify-between gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-6",children:[(0,t.jsx)(o(),{href:"/",className:"text-lg font-semibold",children:"GENUINE Pro"}),(0,t.jsxs)("nav",{className:"hidden sm:flex gap-4 text-sm",children:[(0,t.jsx)(o(),{href:"/dashboard",children:"Dashboard"}),(0,t.jsx)(o(),{href:"/contacts",children:"Contacts"}),(0,t.jsx)(o(),{href:"/resources",children:"Resources"}),(0,t.jsx)(o(),{href:"/profile",children:"Profile"}),(0,t.jsx)(o(),{href:"/account",children:"Account"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(n.iB,{children:(0,t.jsx)(i.UserButton,{})}),(0,t.jsx)(n.Bl,{children:(0,t.jsx)("a",{className:"btn",href:"/sign-in",children:"Sign in"})}),(0,t.jsx)("img",{src:"/logo.png",alt:"ARCH Impacts",className:"h-8 w-auto"})]})]})}),(0,t.jsx)("main",{children:e}),(0,t.jsx)("footer",{className:"footer mt-10",children:(0,t.jsxs)("div",{className:"container py-6 text-xs",children:["ARCH Impacts | genuinerelationships.com • ",(0,t.jsx)("a",{className:"underline",href:"/legal/privacy",children:"Privacy"})," • ",(0,t.jsx)("a",{className:"underline",href:"/legal/terms",children:"Terms"})]})})]})})})}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63979:(e,s,r)=>{Promise.resolve().then(r.bind(r,49600)),Promise.resolve().then(r.bind(r,93821)),Promise.resolve().then(r.bind(r,58758)),Promise.resolve().then(r.bind(r,53916)),Promise.resolve().then(r.t.bind(r,85814,23))},69555:(e,s,r)=>{Promise.resolve().then(r.bind(r,63441)),Promise.resolve().then(r.bind(r,7791)),Promise.resolve().then(r.bind(r,12918)),Promise.resolve().then(r.bind(r,62278)),Promise.resolve().then(r.t.bind(r,4536,23))},74248:(e,s,r)=>{Promise.resolve().then(r.t.bind(r,16444,23)),Promise.resolve().then(r.t.bind(r,16042,23)),Promise.resolve().then(r.t.bind(r,88170,23)),Promise.resolve().then(r.t.bind(r,49477,23)),Promise.resolve().then(r.t.bind(r,29345,23)),Promise.resolve().then(r.t.bind(r,12089,23)),Promise.resolve().then(r.t.bind(r,46577,23)),Promise.resolve().then(r.t.bind(r,31307,23))},77598:e=>{"use strict";e.exports=require("node:crypto")},78335:()=>{},82704:()=>{},96487:()=>{}};var s=require("../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[719,54,119,526],()=>r(14651));module.exports=t})();