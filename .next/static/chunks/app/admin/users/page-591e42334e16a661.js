(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[733],{3910:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>l});var t=a(95155),n=a(12115);function l(){let[e,s]=n.useState([]),[a,l]=n.useState("");async function c(){let e=await fetch("/api/admin/users");e.ok?s(await e.json()):l("Not authorized or error.")}async function i(e,s){await fetch("/api/admin/users/".concat(e,"/role"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({role:s})}),c()}async function r(e,s){await fetch("/api/admin/users/".concat(e,"/plan"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({plan:s})}),c()}return n.useEffect(()=>{c()},[]),(0,t.jsxs)("div",{className:"container py-8",children:[(0,t.jsx)("h1",{className:"text-2xl font-semibold mb-4",children:"Admin — Users"}),a&&(0,t.jsx)("div",{className:"text-sm text-gray-500 mb-3",children:a}),(0,t.jsx)("div",{className:"card",children:(0,t.jsxs)("table",{className:"w-full text-sm",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"text-left text-gray-500",children:[(0,t.jsx)("th",{className:"py-2 px-3",children:"Email"}),(0,t.jsx)("th",{className:"px-3",children:"Name"}),(0,t.jsx)("th",{className:"px-3",children:"Role"}),(0,t.jsx)("th",{className:"px-3",children:"Plan"}),(0,t.jsx)("th",{className:"px-3",children:"Actions"})]})}),(0,t.jsxs)("tbody",{children:[e.map(e=>{var s;return(0,t.jsxs)("tr",{className:"border-t border-gray-200",children:[(0,t.jsx)("td",{className:"py-2 px-3",children:e.email}),(0,t.jsx)("td",{className:"px-3",children:(null==(s=e.profile)?void 0:s.preferredName)||"—"}),(0,t.jsx)("td",{className:"px-3",children:e.role}),(0,t.jsx)("td",{className:"px-3",children:e.plan}),(0,t.jsx)("td",{className:"px-3",children:(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,t.jsx)("button",{onClick:()=>i(e.id,"USER"),className:"btn",children:"User"}),(0,t.jsx)("button",{onClick:()=>i(e.id,"ADMIN"),className:"btn",children:"Admin"}),(0,t.jsx)("button",{onClick:()=>r(e.id,"FREE"),className:"btn",children:"Free"}),(0,t.jsx)("button",{onClick:()=>r(e.id,"PLUS"),className:"btn",children:"Plus"}),(0,t.jsx)("button",{onClick:()=>r(e.id,"PREMIUM"),className:"btn",children:"Premium"})]})})]},e.id)}),!e.length&&(0,t.jsx)("tr",{children:(0,t.jsx)("td",{className:"py-3 px-3 text-gray-500",children:"No users found."})})]})]})})]})}},39035:(e,s,a)=>{Promise.resolve().then(a.bind(a,3910))}},e=>{var s=s=>e(e.s=s);e.O(0,[441,684,358],()=>s(39035)),_N_E=e.O()}]);